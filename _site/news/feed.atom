<?xml version='1.0' encoding='utf-8' ?>
<feed xml:lang='en-US' xmlns='http://www.w3.org/2005/Atom'>
  <id>/news/</id>
  <title>In Relation To News</title>
  <author>
    <name>Hibernate Team</name>
  </author>
  <updated>2013-01-25T16:15:23+08:00</updated>
  <link href='/news/feed.atom' rel='self' type='application/atom+xml' />
  <link href='/news/' rel='alternate' type='text/html' />
  <entry>
    <id>/2012/12/21/fedora-18-awestruct-install/</id>
    <title>下一代静态网站生成框架Awestruct在Fedora18安装全过程</title>
    <updated>2013-01-25T16:15:23+08:00</updated>
    <published>2012-12-21T00:00:00Z</published>
    <link href='/2012/12/21/fedora-18-awestruct-install/' rel='alternate' type='text/html' />
    <author>
      <name>kuuyee</name>
    </author>
    <category term='配置'></category>
    <category term='服务器'></category>
    <category term='OAM'></category>
    <category term='OIM'></category>
    <category term='WebGate'></category>
    <category term='DSEE'></category>
    <category term='Weblogic'></category>
    <summary>
      Awestruct是非常棒的静态网站生成框架，他基于Jekyll，使用Ruby语言开发。Awestruct可以根据模板生成非常漂亮的网站，例如可以用BootStrap或者BluePrint，这两个大名鼎鼎的东东不用多说了吧，地球人都知道。废话不多说，进入主题。
      安装Ruby环境
      首先安装一些依赖库，否则安装Awestruct会报如下的错误：
      Building native extensions.  This could take a while...
      .........
      ERROR:  Error installing awestruct:
              ERROR: Failed to build gem native extension.
      .
              /usr/bin/ruby extconf.rb
      checking for stdio.h... *** extconf.rb failed ***
      Could not create Makefile due to some reason, probably lack of
      necessary libraries and/or headers.  Check the mkmf.log file for more
      details.  You may need configuration options.
      .
      Provided configuration options:
              --with-opt-dir
              --without-opt-dir
              --with-opt-include
            ...
    </summary>
    <content type='html'>
      &lt;p&gt;&lt;strong&gt;Awestruct是非常棒的静态网站生成框架，他基于Jekyll，使用Ruby语言开发。Awestruct可以根据模板生成非常漂亮的网站，例如可以用BootStrap或者BluePrint，这两个大名鼎鼎的东东不用多说了吧，地球人都知道。废话不多说，进入主题。&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;安装Ruby环境&lt;/h3&gt;
&lt;p&gt;首先安装一些依赖库，否则安装Awestruct会报如下的错误：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;Building native extensions.  This could take a while...&amp;#x000A;.........&amp;#x000A;ERROR:  Error installing awestruct:&amp;#x000A;        ERROR: Failed to build gem native extension.&amp;#x000A;.&amp;#x000A;        /usr/bin/ruby extconf.rb&amp;#x000A;checking for stdio.h... *** extconf.rb failed ***&amp;#x000A;Could not create Makefile due to some reason, probably lack of&amp;#x000A;necessary libraries and/or headers.  Check the mkmf.log file for more&amp;#x000A;details.  You may need configuration options.&amp;#x000A;.&amp;#x000A;Provided configuration options:&amp;#x000A;        --with-opt-dir&amp;#x000A;        --without-opt-dir&amp;#x000A;        --with-opt-include&amp;#x000A;        --without-opt-include=${opt-dir}/include&amp;#x000A;        --with-opt-lib&amp;#x000A;        --without-opt-lib=${opt-dir}/lib&amp;#x000A;        --with-make-prog&amp;#x000A;        --without-make-prog&amp;#x000A;        --srcdir=.&amp;#x000A;        --curdir&amp;#x000A;        --ruby=/usr/bin/ruby&amp;#x000A;/usr/share/ruby/mkmf.rb:381:in `try_do': The compiler failed to generate an executable file. (RuntimeError)&amp;#x000A;You have to install development tools first.&amp;#x000A;        from /usr/share/ruby/mkmf.rb:506:in `try_cpp'&amp;#x000A;        from /usr/share/ruby/mkmf.rb:931:in `block in have_header'&amp;#x000A;        from /usr/share/ruby/mkmf.rb:790:in `block in checking_for'&amp;#x000A;        from /usr/share/ruby/mkmf.rb:284:in `block (2 levels) in postpone'&amp;#x000A;        from /usr/share/ruby/mkmf.rb:254:in `open'&amp;#x000A;        from /usr/share/ruby/mkmf.rb:284:in `block in postpone'&amp;#x000A;        from /usr/share/ruby/mkmf.rb:254:in `open'&amp;#x000A;        from /usr/share/ruby/mkmf.rb:280:in `postpone'&amp;#x000A;        from /usr/share/ruby/mkmf.rb:789:in `checking_for'&amp;#x000A;        from /usr/share/ruby/mkmf.rb:930:in `have_header'&amp;#x000A;        from extconf.rb:2:in `&amp;lt;main&amp;gt;'&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;开始安装依赖库，用 &lt;strong&gt;root&lt;/strong&gt; 用户或者 &lt;strong&gt;su&lt;/strong&gt; 执行如下命令：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;yum install -y gcc-c++ patch readline readline-devel zlib zlib-devel libyaml-devel libffi-devel openssl-devel make bzip2 autoconf automake libtool bison iconv-devel&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;alert alert-success&quot;&gt;我是Fedora的粉丝，对不住用其它发行版的童鞋了，请自行根据我列出的安装包找到对应的系统安装方法。&lt;/div&gt;
&lt;p&gt;安装Ruby和RubyGems,用 &lt;strong&gt;root&lt;/strong&gt; 用户或者 &lt;strong&gt;su&lt;/strong&gt; 执行如下命令：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;yum install ruby ruby-devel ruby-irb rubygems&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Fedora18 Yum源的Ruby非常新，都是目前(2012-12-14)的最新版本，看看安装的Ruby版本：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;  正在安装    : libyaml-0.1.4-3.fc18.x86_64                                                                          1/10 &amp;#x000A;  正在安装    : ruby-libs-1.9.3.327-22.fc18.x86_64                                                                   2/10 &amp;#x000A;  正在安装    : ruby-irb-1.9.3.327-22.fc18.noarch                                                                    3/10 &amp;#x000A;  正在安装    : rubygem-json-1.6.5-2.fc18.x86_64                                                                     4/10 &amp;#x000A;  正在安装    : rubygem-io-console-0.3-22.fc18.x86_64                                                                5/10 &amp;#x000A;  正在安装    : rubygem-bigdecimal-1.1.0-22.fc18.x86_64                                                              6/10 &amp;#x000A;  正在安装    : rubygem-rdoc-3.12-5.fc18.noarch                                                                      7/10 &amp;#x000A;  正在安装    : rubygems-1.8.24-3.fc18.noarch                                                                        8/10 &amp;#x000A;  正在安装    : ruby-1.9.3.327-22.fc18.x86_64                                                                        9/10 &amp;#x000A;  正在安装    : ruby-devel-1.9.3.327-22.fc18.x86_64 &lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;安装Awestruct&lt;/h3&gt;
&lt;p&gt;Awestruct使用RubyGems管理安装，用 &lt;strong&gt;root&lt;/strong&gt; 用户或者 &lt;strong&gt;su&lt;/strong&gt; 执行如下命令：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;gem install awestruct --no-ri --no-rdoc&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;结果报如下错误:&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;Fetching: nokogiri-1.5.5.gem (100%)&amp;#x000A;ERROR:  Error installing awestruct:&amp;#x000A;        invalid gem format for /usr/local/share/gems/cache/nokogiri-1.5.5.gem&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这个问题让我郁闷了N久时间，Google了大半天，还特意搞了翻墙，结果死活装不上nokogiri。最后通过Yum来解决,我只能说RubyGems安装很无耻！还是YUM好！，命令如下：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;yum install -y rubygem-nokogiri&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;再次安装Awestruct：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;yum install -y rubygem-nokogiri&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;盼望已久的时刻来临，如果哪位童鞋看到如下的输出，Congratulations！&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;Successfully installed awestruct-0.4.7&amp;#x000A;17 gems installed&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;不过别高兴太早，先适用下是否OK！用BootStrap模板生产一个新的静态网站，命令如下：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;awestruct -i -f bootstrap //或者用awestruct --init --framework bootstrap&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;傻眼了，还是报错：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;[root@localhost kuuyee]# awestruct -i -f bootstrap&amp;#x000A;/usr/local/share/gems/gems/execjs-1.4.0/lib/execjs/runtimes.rb:51:in `autodetect': Could not find a JavaScript runtime. See https://github.com/sstephenson/execjs for a list of available runtimes. (ExecJS::RuntimeUnavailable)&amp;#x000A;        from /usr/local/share/gems/gems/execjs-1.4.0/lib/execjs.rb:5:in `&amp;lt;module:ExecJS&amp;gt;'&amp;#x000A;        from /usr/local/share/gems/gems/execjs-1.4.0/lib/execjs.rb:4:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/coffee-script-2.2.0/lib/coffee_script.rb:1:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/coffee-script-2.2.0/lib/coffee-script.rb:1:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/handlers/coffeescript_handler.rb:8:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/handler_chains.rb:14:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/pipeline.rb:2:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/engine.rb:6:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/cli/generate.rb:1:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/cli/invoker.rb:4:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/bin/awestruct:6:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/local/bin/awestruct:23:in `load'&amp;#x000A;        from /usr/local/bin/awestruct:23:in `&amp;lt;main&amp;gt;'&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;顾名思义，提示没有JavaScript Runtime。继续Google，最后一位高人指点说装个JavaScript引擎就OK，我选择NodeJS。只可惜NodeJSF没有YUM源，只能源码编译安装，无所谓，继续:&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;wget -c 'http://nodejs.org/dist/v0.8.16/node-v0.8.16.tar.gz'&amp;#x000A;tar zxvf node-v0.8.16.tar.gz &amp;#x000A;cd node-v0.8.16&amp;#x000A;./configure &amp;#x000A;make &amp;amp;&amp;amp; make install&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;又是一阵漫长的等待，搞不明白一个JS框架怎么要编译这么久，无语！最后编译完成测试一下：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;[root@localhost node-v0.8.16]# node -v&amp;#x000A;v0.8.16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;OK,继续Awestruct测试：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;[root@localhost kuuyee]# awestruct -i -f bootstrap&amp;#x000A;/usr/local/share/gems/gems/git-1.2.5/lib/git/lib.rb:700:in `command': git version   2&amp;gt;&amp;amp;1:sh: git: 未找到命令 (Git::GitExecuteError)&amp;#x000A;        from /usr/local/share/gems/gems/git-1.2.5/lib/git/lib.rb:649:in `current_command_version'&amp;#x000A;        from /usr/local/share/gems/gems/git-1.2.5/lib/git/lib.rb:659:in `meets_required_version?'&amp;#x000A;        from /usr/local/share/gems/gems/git-1.2.5/lib/git.rb:30:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/deploy/base_deploy.rb:2:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/deploy/s3_deploy.rb:1:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/cli/deploy.rb:1:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/cli/invoker.rb:7:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/share/rubygems/rubygems/custom_require.rb:36:in `require'&amp;#x000A;        from /usr/local/share/gems/gems/awestruct-0.4.7/bin/awestruct:6:in `&amp;lt;top (required)&amp;gt;'&amp;#x000A;        from /usr/local/bin/awestruct:23:in `load'&amp;#x000A;        from /usr/local/bin/awestruct:23:in `&amp;lt;main&amp;gt;'&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;竟然还TMD报错，不过这回不用急，只是提示没装Git，好办！那就装呗：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;yum install git&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;再继续Awestruct：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;[root@localhost kuuyee]# awestruct -i -f bootstrap&amp;#x000A;Create directory: /1003/soft/ruby/node-v0.8.16/_config&amp;#x000A;Create directory: /1003/soft/ruby/node-v0.8.16/_layouts&amp;#x000A;Create directory: /1003/soft/ruby/node-v0.8.16/_ext&amp;#x000A;Create file: /1003/soft/ruby/node-v0.8.16/_ext/pipeline.rb&amp;#x000A;Create directory: /1003/soft/ruby/node-v0.8.16/stylesheets&amp;#x000A;directory _site/stylesheets/ &amp;#x000A;directory images/ &amp;#x000A;directory javascripts/ &amp;#x000A;   create stylesheets/styles.scss &amp;#x000A;   create images/glyphicons-halflings.png &amp;#x000A;   create images/glyphicons-halflings-white.png &amp;#x000A;   create javascripts/bootstrap-alert.js &amp;#x000A;   create javascripts/bootstrap-button.js &amp;#x000A;   create javascripts/bootstrap-carousel.js &amp;#x000A;   create javascripts/bootstrap-collapse.js &amp;#x000A;   create javascripts/bootstrap-dropdown.js &amp;#x000A;   create javascripts/bootstrap-modal.js &amp;#x000A;   create javascripts/bootstrap-popover.js &amp;#x000A;   create javascripts/bootstrap-scrollspy.js &amp;#x000A;   create javascripts/bootstrap-tab.js &amp;#x000A;   create javascripts/bootstrap-tooltip.js &amp;#x000A;   create javascripts/bootstrap-transition.js &amp;#x000A;   create javascripts/bootstrap-typeahead.js &amp;#x000A;   create _site/stylesheets/styles.css &amp;#x000A;.&amp;#x000A;Now you're awestruct!&amp;#x000A;.&amp;#x000A;To generate your site continuous during development, simply run:&amp;#x000A;.&amp;#x000A;  awestruct -d&amp;#x000A;.&amp;#x000A;and visit your site at&amp;#x000A;.&amp;#x000A;  http://localhost:4242/&amp;#x000A;.&amp;#x000A;Create file: /1003/soft/ruby/node-v0.8.16/_layouts/base.html.haml&amp;#x000A;Create file: /1003/soft/ruby/node-v0.8.16/index.html.haml&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Congratulations!&lt;/strong&gt; 这回真的恭喜你了！赶紧部署一下：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;[root@localhost kuuyee]#  awestruct -d&amp;#x000A;Unable to locate profile: development&amp;#x000A;Using profile: NONE&amp;#x000A;Generating site: http://localhost:4242&amp;#x000A;Generating: /1003/awestruct-sample/_site/images/glyphicons-halflings-white.png&amp;#x000A;Generating: /1003/awestruct-sample/_site/images/glyphicons-halflings.png&amp;#x000A;Generating: /1003/awestruct-sample/_site/index.html&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-alert.js&amp;#x000A;/usr/local/share/gems/gems/awestruct-0.4.7/lib/awestruct/handlers/interpolation_handler.rb:35: Use RbConfig instead of obsolete and deprecated Config.&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-button.js&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-carousel.js&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-collapse.js&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-dropdown.js&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-modal.js&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-popover.js&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-scrollspy.js&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-tab.js&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-tooltip.js&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-transition.js&amp;#x000A;Generating: /1003/awestruct-sample/_site/javascripts/bootstrap-typeahead.js&amp;#x000A;Analyzing:  /1003/awestruct-sample/_site/stylesheets/styles.css&amp;#x000A;[Listen warning]:&amp;#x000A;  Missing dependency 'rb-inotify' (version '~&amp;gt; 0.8.8')!&amp;#x000A;  Please run the following to satisfy the dependency:&amp;#x000A;    gem install --version '~&amp;gt; 0.8.8' rb-inotify&amp;#x000A;.  &amp;#x000A;  For a better performance, it's recommended that you satisfy the missing dependency.&amp;#x000A;  Listen will be polling changes. Learn more at https://github.com/guard/listen#polling-fallback.&amp;#x000A;.&amp;#x000A;&amp;gt;&amp;gt; Thin web server (v1.4.1 codename Chromeo)&amp;#x000A;&amp;gt;&amp;gt; Maximum connections set to 1024&amp;#x000A;&amp;gt;&amp;gt; Listening on 0.0.0.0:4242, CTRL+C to stop&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;打开 &lt;a href=&quot;http://localhost:4242/&quot;&gt;http://localhost:4242/&lt;/a&gt; 看看吧！&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/bootstrap.png&quot; title=&quot;BootStrap网站模板&quot; alt=&quot;BootStrap网站模板&quot; /&gt;&lt;/p&gt;
&lt;p&gt;细心的童鞋一定会注意到部署输出有警告，我是属于不想看到任何警告的人，所以还得继续，清楚警告：&lt;/p&gt;
&lt;pre class=&quot;command&quot;&gt;&lt;code class=&quot;command&quot;&gt;gem install --version '~&amp;gt; 0.8.8' rb-inotify&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;再次部署访问就不会有警告了！&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;大功告成！祝愿各位童鞋安装成功！&lt;/strong&gt;&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <id>/2012/08/01/i-succumbed-to-the-cult-of-vi/</id>
    <title>I succumbed to the Cult of vi</title>
    <updated>2013-01-25T16:15:23+08:00</updated>
    <published>2012-08-01T00:00:00Z</published>
    <link href='/2012/08/01/i-succumbed-to-the-cult-of-vi/' rel='alternate' type='text/html' />
    <author>
      <name>Emmanuel Bernard</name>
    </author>
    <category term='tool'></category>
    <category term='Laissez faire'></category>
    <summary>
      I think I am seriously regressing as I grow older.

I mentioned in the past moving from the popular, dynamic and UI
based blog system Wordpress to the Ruby based static generator
Awestruct. I also mentioned moving to Git
and enjoying my command line more and more.
On a tangential note, I do enjoy writing my verb in a pure textual
form thanks to Markdown and use Git as my backup
and memory system if you will.

I think the natural evolution for me was to move to one of those
archaic editors like vi or emacs... And I tried vi... and I
can't say I liked it at first.

Why...
    </summary>
    <content type='html'>
      &lt;p&gt;I think I am seriously regressing as I grow older.&lt;/p&gt;

&lt;p&gt;I mentioned in the past moving from the popular, dynamic and UI
based blog system Wordpress to the Ruby based static generator
&lt;a href=&quot;/blog/2011/07/08/awestruct-building-dynamic-static-web-sites/&quot;&gt;Awestruct&lt;/a&gt;. I also mentioned moving to &lt;a href=&quot;/blog/2012/05/15/pro-tip-git-rebase/&quot;&gt;Git&lt;/a&gt;
and enjoying my &lt;a href=&quot;/blog/2012/02/28/customize-titles-of-your-terminal-window/&quot;&gt;command line&lt;/a&gt; more and more.
On a tangential note, I do enjoy writing my verb in a pure textual
form thanks to &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt; and use Git as my backup
and memory system if you will.&lt;/p&gt;

&lt;p&gt;I think the natural evolution for me was to move to one of those
archaic editors like &lt;em&gt;vi&lt;/em&gt; or emacs... And I tried &lt;em&gt;vi&lt;/em&gt;... and I
can't say I liked it at first.&lt;/p&gt;

&lt;h2&gt;Why oh why move to &lt;em&gt;vi&lt;/em&gt;?&lt;/h2&gt;

&lt;p&gt;Emacs never attracted me, I have only ten fingers after all and
there is only so much flexibility in my hands.
&lt;em&gt;vi&lt;/em&gt; has the immense benefit of literally be available everywhere
you &lt;code&gt;ssh&lt;/code&gt; in. I have always been acquainted with &lt;em&gt;vi&lt;/em&gt;: use &lt;code&gt;i&lt;/code&gt; to type
and &lt;code&gt;ESC :q!&lt;/code&gt; if things go crazy.&lt;/p&gt;

&lt;p&gt;Long time vimers keep claiming that once you get it, it's awesome.
Since I have been proved wrong on Git - I thought Mercurial was
better at that Git UX was an abomination for bearded people - I was
rather curious.&lt;/p&gt;

&lt;p&gt;A recent discussion with my friends of &lt;a href=&quot;http://lescastcodeurs.com&quot;&gt;Les Cast Codeurs&lt;/a&gt;
fame convinced me to try once again to jump on the bandwagon.&lt;/p&gt;

&lt;h2&gt;So far not so bad&lt;/h2&gt;

&lt;p&gt;In the beginning I felt that I was slow and that every line of text
was draining a third of my energy for the day. And that was more than
a feeling.&lt;/p&gt;

&lt;p&gt;But it's really growing on me and this blog post is an attempt to
understand why really. Yes reader, you're my private therapist.&lt;/p&gt;

&lt;p&gt;I love good UIs but to be honest, for text documents, you don't
really need it. I use &lt;a href=&quot;http://code.google.com/p/macvim/&quot;&gt;MacVim&lt;/a&gt; with a decent set of coloring
and syntax highlighting and I am happy with it. The key is that
&lt;em&gt;vi&lt;/em&gt; is extremely powerful to fine-edit text and that even if hard
to learn, you feel that there is something you can gain.&lt;/p&gt;

&lt;h2&gt;What's bad about &lt;em&gt;vi&lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;For beginners or casual users, &lt;em&gt;vi&lt;/em&gt; the most horrible piece of user
experience ever build. There is no visual or otherwise cue in case
you don't know how to do something, no way to navigate menus to figure
what can be done. You even need to be an accomplished &lt;em&gt;vi&lt;/em&gt; user and sort
of already know what you to do to begin to make sense of the help system.&lt;/p&gt;

&lt;p&gt;But let's pretend you used Google and know enough to play around.
Let's face it auto completion is very important in Java. Most of the time
Java developers don't need doc, the API and auto completion are here to
guide them. I often resort to Google for an API in Ruby or JavaScript,
never in Java.&lt;/p&gt;

&lt;p&gt;Now what's interesting is that IntelliJ IDEA (my Java editor) has a
&lt;a href=&quot;http://code.google.com/p/macvim/&quot;&gt;vi plugin&lt;/a&gt;, so does Eclipse. So you can use your &lt;em&gt;vi&lt;/em&gt; way of editing
but still benefit from auto completion and code navigation.&lt;/p&gt;

&lt;p&gt;The &lt;em&gt;vi&lt;/em&gt; plugin for IntelliJ is not perfect. It sometimes stops working and
you need to close and reopen your file, and it has the tendency to override
some common shortcuts (Command click for code navigation for example). But for
the most part it works. I think in 2 weeks of use, I gave up the &lt;em&gt;vi&lt;/em&gt; mode twice.
Not bad!&lt;/p&gt;

&lt;p&gt;The other thing that's bad with &lt;em&gt;vi&lt;/em&gt; is that there is no native project
view to navigate from one file to another in a project. I'm used to
&lt;code&gt;Command-N&lt;/code&gt; in IntelliJ IDEA to open a Java class with a few camel case
friendly keystrokes.&lt;/p&gt;

&lt;p&gt;Vi has plugins to mimic that - &lt;em&gt;vi&lt;/em&gt; has plugins for everything by the way
including ASCII diagram drawing tools. I have installed &lt;a href=&quot;http://www.vim.org/scripts/script.php?script_id=1658&quot;&gt;NERDTree&lt;/a&gt; and
&lt;a href=&quot;https://wincent.com/products/command-t/&quot;&gt;Command-T&lt;/a&gt; so far but I don't feel it's sufficient. The visual reminder of
the file hierarchy is quite useful in an IDE.&lt;/p&gt;

&lt;p&gt;Likewise, copy / pasting especially between non &lt;em&gt;vi&lt;/em&gt; apps is not entirely
fluid to me but I suspect it's a matter of training.&lt;/p&gt;

&lt;h2&gt;What made me click&lt;/h2&gt;

&lt;p&gt;There is no magic trick, you need to train your brain and your fingers to &lt;em&gt;vi&lt;/em&gt;.
But there are two things that were key to make me understand how to use &lt;em&gt;vi&lt;/em&gt;:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;stay in insert mode (sort of the normal mode of any other editor) for
the shortest period of time. Text manipulation is mostly done in command
mode. So always come back to comamnd mode.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;vi&lt;/em&gt; is very regular, operations are made of an action and a move.
The action describes what you want to do, and the move is about
what the action will influence. On top of that, you can add a multiplier
to repeat the operation several time.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So when you learn a new move or a new action, you can compound them to the
ones you know already and create new operations for free.&lt;/p&gt;

&lt;p&gt;After a while you like the game. Plus it's very easy to Google a given action
and find how to do it efficiently.&lt;/p&gt;

&lt;p&gt;The arrow vs &lt;code&gt;hjkl&lt;/code&gt; for navigation was essentially a non problem. I use what
I am comfortable with: I started with arrows but I use almost exclusively
&lt;code&gt;hjkl&lt;/code&gt; to move now as it makes my hand move less on the keyboard.
Likewise, I use the mouse when I feel like moving around a lot. That might
change down the road.&lt;/p&gt;

&lt;p&gt;It has been roughly two weeks of coding and writing in &lt;em&gt;vi&lt;/em&gt; mode and I am
now feeling that when I move back to a classic editor, I don't feel as efficient
as I though I was. I'm even tempted to say that I feel a bit more efficient now in
&lt;em&gt;vi&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;A lot of the efficiency comes from the powerful search tools. It turns out to be very
efficient to navigate around text or code using small searches.&lt;/p&gt;

&lt;h2&gt;Resources and conclusion&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;a stackoverflow question on &lt;a href=&quot;http://stackoverflow.com/a/1220118/200911&quot;&gt;the philosphy of &lt;em&gt;vi&lt;/em&gt; commands&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;the thought process of someone &lt;a href=&quot;http://stevelosh.com/blog/2010/09/coming-home-to-vim/&quot;&gt;moving back to &lt;em&gt;vi&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;everything you need to know on &lt;a href=&quot;http://tedlogan.com/techblog3.html&quot;&gt;tabulation and indenting in &lt;em&gt;vi&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;graphical &lt;a href=&quot;http://www.viemu.com/a_vi_vim_graphical_cheat_sheet_tutorial.html&quot;&gt;cheat sheet&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you want to make the jump, I recommend you:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;print the cheat sheets and keep them in front of you&lt;/li&gt;
&lt;li&gt;read a few blogs on the philosophy of &lt;em&gt;vi&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;take the time to configure your (graphical) &lt;em&gt;vi(m)&lt;/em&gt; environment&lt;/li&gt;
&lt;li&gt;jump and stick to it for most of your work&lt;/li&gt;
&lt;li&gt;use a &lt;em&gt;vi&lt;/em&gt; plugin for your IDE: it is good to force you to use &lt;em&gt;vi&lt;/em&gt; without losing
auto completion and co you need&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;That's all I have, it's not a tutorial on &lt;em&gt;vi&lt;/em&gt;, more my thoughts on the process.
I'll keep you posted if I have more interesting things to say on the subject.
Oh and of course this blog entry has been written in &lt;em&gt;vi&lt;/em&gt; :)&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <id>/2012/07/18/ComingSoonNewAeroGearSiteOtherUpdates/</id>
    <title>Coming soon! New AeroGear Site &amp; Other Updates</title>
    <updated>2013-01-25T11:27:28+08:00</updated>
    <published>2012-07-18T00:00:00Z</published>
    <link href='/2012/07/18/ComingSoonNewAeroGearSiteOtherUpdates/' rel='alternate' type='text/html' />
    <author>
      <name>Jay Balunas</name>
    </author>
    <category term='AeroGear'></category>
    <category term='Contexts and Dependency Injection'></category>
    <category term='Mobile'></category>
    <category term='News'></category>
    <summary>
      




                    
Coming soon! New AeroGear Site &amp; Other Updates
                    


It's been a little while since I wrote about AeroGear (and we're still hiring by the way!) so I wanted to take a minute and give a bit of an update and preview some things we are working on.


JBoss World


     
        



For...
    </summary>
    <content type='html'>
      &lt;div id=&quot;documentDisplay&quot; class=&quot;documentDisplay&quot;&gt;
&lt;p class=&quot;wikiPara&quot;&gt;

&lt;/p&gt;
&lt;div id=&quot;j_id463&quot;&gt;
                    &lt;h1 class=&quot;documentTitle&quot;&gt;
&lt;a href=&quot;/Bloggers/ComingSoonNewAeroGearSiteOtherUpdates&quot;&gt;Coming soon! New AeroGear Site &amp;amp; Other Updates&lt;/a&gt;
                    &lt;/h1&gt;
&lt;/div&gt;
&lt;p class=&quot;wikiPara&quot;&gt;
It's been a little while since I wrote about &lt;a href=&quot;http://in.relation.to/Bloggers/WereHiringForOurMobileWebHybridAndNativeProjectAeroGearJoinTheTeamAtJBoss&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;AeroGear&lt;/a&gt; (and we're still hiring by the way!) so I wanted to take a minute and give a bit of an update and preview some things we are working on.
&lt;/p&gt;

&lt;h3 class=&quot;wikiHeadline3&quot; id=&quot;H-JBossWorld&quot;&gt;&lt;a href=&quot;/Bloggers/ComingSoonNewAeroGearSiteOtherUpdates#H-JBossWorld&quot;&gt;JBoss World&lt;/a&gt;&lt;/h3&gt;

&lt;div style=&quot;float:right;margin-left:20px;&quot;&gt;
    &lt;a href=&quot;http://jboss.org/aerogear&quot; target=&quot;blank&quot;&gt; 
        &lt;img src=&quot;../../../images/22836&quot; alt=&quot;&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
For those of you that did not get a chance to make it to &lt;a href=&quot;http://www.redhat.com/summit/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;JBoss World&lt;/a&gt; it was a great conference for mobile, and AeroGear was everywhere!  It all started at the opening &lt;a href=&quot;http://www.jboss.org/jbw2012keynote&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;keynote demo&lt;/a&gt; showcasing jBPM, mobile, and other JBoss technology.  The AeroGear team worked with the rest of the demo team to create a JBoss toy store application, both in mobile web and native versions using Apache Cordova.  We also deployed the application using &lt;a href=&quot;http://appblade.com&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;AppBlade&lt;/a&gt;, a partner of ours that allows for enterprise provisioning of native mobile applications.  You can check out this &lt;a href=&quot;http://vimeo.com/45731657&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;video by Burr Sutter&lt;/a&gt; for a technical run through of the various parts.  You can also download the source, and try it all out for yourself &lt;a href=&quot;http://www.jboss.org/jbw2012keynote&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;here&lt;/a&gt;.
&lt;/p&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
There were several other sessions, BOF's and labs related to mobile development and AeroGear.  In one of the AeroGear sessions I discussed where the project is, and what our upcoming plans are.  I wanted to share these more broadly, and from that this blog was born!
&lt;/p&gt;

&lt;h3 class=&quot;wikiHeadline3&quot; id=&quot;H-NewProjectSite&quot;&gt;&lt;a href=&quot;/Bloggers/ComingSoonNewAeroGearSiteOtherUpdates#H-NewProjectSite&quot;&gt;New Project Site&lt;/a&gt;&lt;/h3&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
One of the first things I mentioned is that the &lt;a href=&quot;http://www.jboss.org/aerogear&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;AeroGear project site&lt;/a&gt; needed a revamp!  It was authored using a content management system (CMS), and as such could not really showcase some of the advanced functionality that we wanted to use.  We also wanted to update our roadmap and wiki pages with the items below, and have them be easier to maintain. 
&lt;/p&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
So we're moving our project site to use &lt;a href=&quot;http://awestruct.org/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;Awestruct&lt;/a&gt;, a great tool for developing project sites that look great and let you have more control.  In this we are following the footsteps of &lt;a href=&quot;http://torquebox.org&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;TorqueBox&lt;/a&gt;, &lt;a href=&quot;http://immutant.org/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;Immutant&lt;/a&gt;, &lt;a href=&quot;http://arquillian.org/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;Arquillian&lt;/a&gt;, and &lt;a href=&quot;http://www.jboss.org/jdf/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;JBoss Developer Framework&lt;/a&gt;.  This means our site will be developed on github, and hosted on JBoss.org just as before, only better :-)
&lt;/p&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
For our docs and wiki we're going to be moving to &lt;a href=&quot;http://www.methods.co.nz/asciidoc/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;AsciiDoc&lt;/a&gt;, which is a lot like markdown, but even more powerful and supported by github!  This is another great option for open source projects that want their documents to be functional, beautiful and pull request-able.  
&lt;/p&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
We'll be getting these updates in place as soon as possible, hopefully in the next week or two!
&lt;/p&gt;

&lt;h3 class=&quot;wikiHeadline3&quot; id=&quot;H-NativeClientLibraries&quot;&gt;&lt;a href=&quot;/Bloggers/ComingSoonNewAeroGearSiteOtherUpdates#H-NativeClientLibraries&quot;&gt;Native Client Libraries&lt;/a&gt;&lt;/h3&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
As I mention in the current &lt;q&gt;&lt;a href=&quot;http://www.jboss.org/aerogear/WhatisAeroGear.html&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;What is AeroGear&lt;/a&gt;&lt;/q&gt; page, we started out focused on education and examples for how to create mobile applications with existing JBoss technology.  We're now moving into that 3rd column - innovation!  
&lt;/p&gt;

&lt;div style=&quot;float:left;margin-right:20px;&quot;&gt;
    &lt;a href=&quot;http://jboss.org/aerogear&quot; target=&quot;blank&quot;&gt; 
        &lt;img src=&quot;../../../images/23394&quot; alt=&quot;&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
We're currently defining and beginning development of a set of native client libraries for JavaScript (yes, I consider this native :-), Objective-C, and Android Java to make accessing and extending the power of JBoss and JavaEE to mobile clients easy and immediately recognizable to developers on those platforms.  
&lt;/p&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
In my presentation I talked about what these libraries would address:
&lt;/p&gt;

&lt;ul class=&quot;wikiUnorderedList&quot;&gt;
&lt;li class=&quot;wikiUnorderedListItem&quot;&gt; &lt;b&gt;Persistence&lt;/b&gt; (secure content access via REST &amp;amp; Websockets, including bean validation and more)&lt;/li&gt;
&lt;li class=&quot;wikiUnorderedListItem&quot;&gt; &lt;b&gt;Security&lt;/b&gt; (authentication, authorization, content encryption, and IDM)&lt;/li&gt;
&lt;li class=&quot;wikiUnorderedListItem&quot;&gt; &lt;b&gt;Messaging &amp;amp; Connectivity&lt;/b&gt; (Integrated CDI eventing, JMS, native/non-native push, Websockets)&lt;/li&gt;
&lt;li class=&quot;wikiUnorderedListItem&quot;&gt; &lt;b&gt;Data Sync &amp;amp; Offline support&lt;/b&gt; (Auto sync of various content across clients/servers, collision handling, and local cache)&lt;/li&gt;
&lt;/ul&gt;
&lt;p class=&quot;wikiPara&quot;&gt;
We'll be focusing first on persistence and security as the foundation for these libraries, and initially develop the JavaScript APIs, with the Objective-C and Android libraries following (maybe even Windows Phone someday).  We are still strong believers in Hybrid application frameworks like &lt;a href=&quot;http://incubator.apache.org/cordova/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;Apache Cordova&lt;/a&gt;, and also plan to create plugins and advanced examples for these.
&lt;/p&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
Providing a server-side foundation for some of this functionality is also a new, early stage light-weight MVC that &lt;a href=&quot;http://blog.qmx.me/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;QMX&lt;/a&gt; developed called AeroGear Controller.  While our client libraries will not depend on this entirely, some of the advanced functionality may require it, a lot of that is still TBD.  To join in, check out QMX's blog &lt;a href=&quot;http://planet.jboss.org/post/aerogear_controller_1_0_0_alpha_is_out&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;aerogear controller 1.0.0.Alpha is out!&lt;/a&gt;
&lt;/p&gt;

&lt;h3 class=&quot;wikiHeadline3&quot; id=&quot;H-KeepAnEyeOpen&quot;&gt;&lt;a href=&quot;/Bloggers/ComingSoonNewAeroGearSiteOtherUpdates#H-KeepAnEyeOpen&quot;&gt;Keep An Eye Open!&lt;/a&gt;&lt;/h3&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
So keep your eyes open for more from us in the near future, and jump into our IRC channel (#aerogear @ irc.freenode.net), forums, or mailing lists if you are interested in lending a hand or seeing whats going on!  
&lt;/p&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
[&lt;a href=&quot;http://jboss.org/aerogear/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;AeroGear Project&lt;/a&gt;]
[&lt;a href=&quot;https://github.com/aerogear&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;GitHub&lt;/a&gt;]
[&lt;a href=&quot;https://twitter.com/#!/aerogears&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;Twitter&lt;/a&gt;]
[&lt;a href=&quot;https://community.jboss.org/community/aerogear&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;User Forums&lt;/a&gt;]
[&lt;a href=&quot;http://www.redhat.com/mailman/listinfo/aerogear-dev&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;Dev Mailing List&lt;/a&gt;]&lt;/p&gt;
&lt;/div&gt;
    </content>
  </entry>
  <entry>
    <id>/2012/06/14/migrating-a-wordpress-blog-to-awestruct/</id>
    <title>Migrating a Wordpress blog to Awestruct</title>
    <updated>2013-01-25T16:15:23+08:00</updated>
    <published>2012-06-14T00:00:00Z</published>
    <link href='/2012/06/14/migrating-a-wordpress-blog-to-awestruct/' rel='alternate' type='text/html' />
    <author>
      <name>Steve Ebersole</name>
    </author>
    <category term='website'></category>
    <category term='awestruct'></category>
    <category term='blog'></category>
    <summary>
      As I said earlier, I moved my blog from a Wordpress instance to
Awestruct, a framework for creating static HTML sites and blogs.

The process is roughly made of these steps:


Move comments to Disqus or another hosted service
Initialize Awestruct's structure
Import the blog posts from Wordpress to Awestruct
Add the necessary Awestruct extensions
Write the correct redirect rules



Moving comments to a hosted service

Because Awestruct is a static HTML generator, you need to use a hosted service
like IntenseDebate or Disqus. I personally use Disqus.
The import process is easy and involve installing a Disqus plugin in your Wordpress
instance.

Initialize Awestruct's structure

Awestruct has a decent getting started section but...
    </summary>
    <content type='html'>
      &lt;p&gt;As I said &lt;a href=&quot;/blog/2012/04/10/the-perfect-storm-creates-new-website-and-blog/&quot;&gt;earlier&lt;/a&gt;, I moved my blog from a Wordpress instance to
&lt;a href=&quot;http://awestruct.org&quot;&gt;Awestruct&lt;/a&gt;, a framework for creating static HTML sites and blogs.&lt;/p&gt;

&lt;p&gt;The process is roughly made of these steps:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Move comments to Disqus or another hosted service&lt;/li&gt;
&lt;li&gt;Initialize Awestruct's structure&lt;/li&gt;
&lt;li&gt;Import the blog posts from Wordpress to Awestruct&lt;/li&gt;
&lt;li&gt;Add the necessary Awestruct extensions&lt;/li&gt;
&lt;li&gt;Write the correct redirect rules&lt;/li&gt;
&lt;/ol&gt;


&lt;h2&gt;Moving comments to a hosted service&lt;/h2&gt;

&lt;p&gt;Because Awestruct is a static HTML generator, you need to use a hosted service
like &lt;a href=&quot;http://intensedebate.com/&quot;&gt;IntenseDebate&lt;/a&gt; or &lt;a href=&quot;http://disqus.com/&quot;&gt;Disqus&lt;/a&gt;. I personally use Disqus.
The import process is easy and involve installing a Disqus plugin in your Wordpress
instance.&lt;/p&gt;

&lt;h2&gt;Initialize Awestruct's structure&lt;/h2&gt;

&lt;p&gt;Awestruct has a decent &lt;a href=&quot;http://awestruct.org/getting_started/&quot;&gt;getting started&lt;/a&gt; section but I find the easiest
approach is to fork an existing Awestruct example and change what you want. You can take
&lt;a href=&quot;https://github.com/emmanuelbernard/emmanuelbernard.com/&quot;&gt;my website source&lt;/a&gt; as an example if you want.&lt;/p&gt;

&lt;h2&gt;Import blog posts&lt;/h2&gt;

&lt;p&gt;I wanted to keep my old content and get rid of the Wordpress instance. In Wordpress,
export your blog content (&lt;code&gt;Tools-&amp;gt;Export&lt;/code&gt;, all content). The XML file will be used
to create the various blog entries in Awestruct.&lt;/p&gt;

&lt;p&gt;The import script is available &lt;a href=&quot;https://github.com/emmanuelbernard/emmanuelbernard.com/blob/master/_bin/import&quot;&gt;here&lt;/a&gt; and takes the Wordpress xml file
and the output directory. In my case my blog is at &lt;a href=&quot;http://emmanuelbernard.com/blog/&quot;&gt;http://emmanuelbernard.com/blog/&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;./_bin/import ~/Downloads/wordpress-export.xml ./blog&amp;#x000A;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Edit it to reference your previous blog URL. With that the script
will make sure local images, PDF etc are properly imported as well instead of
simply referenced.&lt;/p&gt;

&lt;p&gt;For each blog entry, a &lt;code&gt;.erb&lt;/code&gt; file is created.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Note that the import process might fail. Don't worry, simply read the error message and
try and fix the xml file and run the import process again. In my case, I needed to add
an empty line right before &lt;code&gt;&amp;lt;/pre&amp;gt;&lt;/code&gt; or &lt;code&gt;&amp;lt;/blockquote&amp;gt;&lt;/code&gt; elements. After a few stop and go
you will have your data fully imported.&lt;/p&gt;&lt;/blockquote&gt;

&lt;h2&gt;Add the necessary Awestruct extensions&lt;/h2&gt;

&lt;p&gt;Blogs in Awestruct are build by a few extensions:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Posts&lt;/code&gt;: creates the blog structure and pages based on the content of a directory&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Paginator&lt;/code&gt; (optional): paginate the blog entries&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Tagger&lt;/code&gt; (optional): generate the tag structure and pages&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TagCloud&lt;/code&gt; (optional): generate a tag cloud&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Atomizer&lt;/code&gt;: generate the atom feed&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Disqus&lt;/code&gt;: add the Disqus integration to your site&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Check out &lt;a href=&quot;https://github.com/emmanuelbernard/emmanuelbernard.com/&quot;&gt;my website source&lt;/a&gt; for an example. Note that at the time of writing,
I use some custom versions of these extensions but these changes are being pushed to Awestruct.&lt;/p&gt;

&lt;h2&gt;Write the correct redirect rules&lt;/h2&gt;

&lt;p&gt;If your URL structure has changed either because of a relative URL change, because you move
to a new (sub)domain or both, you will need to write 301 redirect rules:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;old links spread on the internet will still work&lt;/li&gt;
&lt;li&gt;people registered to your old feed will not get lost&lt;/li&gt;
&lt;li&gt;Google will understand you moved your blog, reindex it and remove the old references&lt;/li&gt;
&lt;li&gt;Disqus will move your comments from the old blog to the new blog&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In my .htaccess file, you can see 5 main redirections:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;redirect / from the old domain to the new domain&lt;/li&gt;
&lt;li&gt;redirect the old feed to the new feed&lt;/li&gt;
&lt;li&gt;redirect old posts to new posts (with a regexp or manual)&lt;/li&gt;
&lt;li&gt;redirect category urls to the new tag urls&lt;/li&gt;
&lt;li&gt;redirect anything else to the new blog&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Let's look at the file&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;RewriteEngine on&amp;#x000A;RewriteCond %{HTTP_HOST} ^blog.emmanuelbernard.com$&amp;#x000A;&amp;#x000A;# Old feed redirected&amp;#x000A;RewriteRule feed/ http://emmanuelbernard.com/blog/feed.atom [R=301,L]&amp;#x000A;&amp;#x000A;# Redirect 2012/04/07/something to http://emmanuelbernard.com/blog/2012/04/07/something&amp;#x000A;RewriteRule ([0-2][0-9][0-9][0-9])/([0-1][0-9])/([0-3][0-9])/([^/]+)/ http://emmanuelbernard.com/blog/$1/$2/$3/$4/ [R=301,L]&amp;#x000A;&amp;#x000A;# Redirect category/slug to http://emmanuelbernard.com/tags/slug&amp;#x000A;RewriteRule category/([^/]+)/ http://emmanuelbernard.com/blog/tags/$1/ [R=301,L]&amp;#x000A;&amp;#x000A;# Top level url redurect&amp;#x000A;RewriteRule ^/?$ http://emmanuelbernard.com/blog/ [R=301,L]&amp;#x000A;&amp;#x000A;# Manual redirect form old URL scheme yyyy/mm to new blog&amp;#x000A;RewriteRule 2007/01/activerecord-pattern-so-what[/]? http://emmanuelbernard.com/blog/2007/01/07/activerecord-pattern-so-what/ [R=301,L]&amp;#x000A;# ...&amp;#x000A;&amp;#x000A;# Redirect anything else to new blog&amp;#x000A;RewriteRule ^(.*)$ http://emmanuelbernard.com/blog/&amp;#x000A;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Because my old url scheme was &lt;code&gt;yyyy/mm/slug&lt;/code&gt; and the new one is &lt;code&gt;yyyy/mm/dd/slug&lt;/code&gt;,
I could not write a regexp based redirect rules. But I used a small Ruby script
to convert the old URLs to the new URLs based on the content of my Awestruct blog
directory. Check out the &lt;a href=&quot;https://github.com/emmanuelbernard/emmanuelbernard.com/blob/master/_bin/htaccess-generator.rb&quot;&gt;script here&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/usr/bin/env ruby&amp;#x000A;#&amp;#x000A;# Generate a htaccess rule for each old blog entry from&amp;#x000A;# http://blog.emmanuelbernard.com/yyyy/mm/slug to http://emmanuelbernard.com/blog/yyyy/mm/dd/slug&amp;#x000A;# Has to be manual as the day is unknown in the URL&amp;#x000A;#&amp;#x000A;Dir.foreach(&quot;../blog&quot;) { |file| &amp;#x000A;    if (file =~ /(20[0-1][0-9])-([0-1][0-9])-([0-3][0-9])-([^\/]+).html.erb/)&amp;#x000A;        result = &quot;RewriteRule &quot; &amp;lt;&amp;lt; $1 &amp;lt;&amp;lt; &quot;/&quot; &amp;lt;&amp;lt; $2 &amp;lt;&amp;lt; &quot;/&quot; &amp;lt;&amp;lt; $4 &amp;lt;&amp;lt; &quot;[/]?&quot;&amp;#x000A;        result = result &amp;lt;&amp;lt; &quot; http://emmanuelbernard.com/blog/&quot;&amp;#x000A;        result = result &amp;lt;&amp;lt; $1 &amp;lt;&amp;lt; &quot;/&quot; &amp;lt;&amp;lt; $2 &amp;lt;&amp;lt; &quot;/&quot; &amp;lt;&amp;lt; $3 &amp;lt;&amp;lt; &quot;/&quot; &amp;lt;&amp;lt; $4 &amp;lt;&amp;lt; &quot;/ [R=301,L]&quot;&amp;#x000A;        puts result&amp;#x000A;    end&amp;#x000A;}&amp;#x000A;&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;Publish&lt;/h2&gt;

&lt;p&gt;Publish your Awestruct website on your server and test :)&lt;/p&gt;

&lt;p&gt;The final step is to ask Disqus to listen to the 301 redirects to attach the old comments to the new
Blog entries. It's in &lt;code&gt;Admin -&amp;gt; Migrate tools -&amp;gt; Redirect Crawler&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;And voilà! You have a fully upgraded blog :)&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <id>/2009/09/18/SeamAndFlex/</id>
    <title>Seam and Flex</title>
    <updated>2013-01-25T11:27:28+08:00</updated>
    <published>2009-09-18T00:00:00Z</published>
    <link href='/2009/09/18/SeamAndFlex/' rel='alternate' type='text/html' />
    <author>
      <name>Norman Richards</name>
    </author>
    <summary>
      
          
          
          
          
                              
          Seam and Flex
                              
          
          
          If the forums are any indication, there's quite a bit of interest in the Seam community for adding Flex interfaces to Seam applications.  Members of the seam community have stepped forward and put together some interesting examples of Seam and Flex working together, and that's been good enough for our more ambitious users.  But now it's...
    </summary>
    <content type='html'>
      &lt;div id=&quot;documentDisplay&quot; class=&quot;documentDisplay&quot;&gt;
&lt;p class=&quot;wikiPara&quot;&gt;

&lt;/p&gt;
&lt;div id=&quot;j_id463&quot;&gt;
                    &lt;h1 class=&quot;documentTitle&quot;&gt;
&lt;a href=&quot;/Bloggers/SeamAndFlex&quot;&gt;Seam and Flex&lt;/a&gt;
                    &lt;/h1&gt;
&lt;/div&gt;
&lt;p class=&quot;wikiPara&quot;&gt;
If the forums are any indication, there's quite a bit of interest in the Seam community for adding &lt;a href=&quot;http://www.adobe.com/products/flex/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;Flex&lt;/a&gt; interfaces to Seam applications.  Members of the seam community have stepped forward and put together some interesting examples of Seam and Flex working together, and that's been good enough for our more ambitious users.  But now it's time to make that integration a bit more formal.  So with that, we've added the first round of Flex support to Seam.  
&lt;/p&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
We're starting with a simple solution for Flex remoting to Seam applications using &lt;a href=&quot;http://opensource.adobe.com/wiki/display/blazeds/BlazeDS/&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;BlazeDS&lt;/a&gt;.  Getting going with Seam involves adding &lt;tt&gt;jboss-seam-flex.jar&lt;/tt&gt; to your application, along with the BlazeDS libraries.  The BlazeDS &lt;tt&gt;MessageBroker&lt;/tt&gt;, which responds to requests from the Flex client, is instantiated and managed my the Seam Flex filter:
&lt;/p&gt;

&lt;pre class=&quot;wikiPreformatted&quot;&gt;&amp;lt;flex:flex-filter url-pattern=&quot;/messagebroker/*&quot; /&amp;gt;&lt;/pre&gt;


&lt;p class=&quot;wikiPara&quot;&gt;
With that, your Flex application can talk to your Seam application.  Obviously it wouldn't be wise to expose all your Seam components for remote access automatically.  Individual components can be enabled for Flex remoting with a single annotation:
&lt;/p&gt;

&lt;pre class=&quot;wikiPreformatted&quot;&gt;&amp;#x000A;@Name(&quot;org.jboss.seam.example.flex.foo&quot;)&amp;#x000A;@FlexRemote(name=&quot;foo&quot;)&amp;#x000A;public class Foo&amp;#x000A;{&amp;#x000A;   public void ping() {&amp;#x000A;      System.out.println(&quot;ping!&quot;);&amp;#x000A;   }&amp;#x000A;}&lt;/pre&gt;


&lt;p class=&quot;wikiPara&quot;&gt;
This annotation causes Seam to add a named remoting destination on the default channel, which can immediately be accessed as a &lt;tt&gt;\&amp;lt;mx:RemoteObject&amp;gt;&lt;/tt&gt; in a Flex application.  The minimal mxml on the client side would be:   
&lt;/p&gt;

&lt;pre class=&quot;wikiPreformatted&quot;&gt;&amp;lt;mx:RemoteObject id=&quot;remoteFoo&quot; destination=&quot;foo&quot; /&amp;gt;&lt;/pre&gt;


&lt;p class=&quot;wikiPara&quot;&gt;
This declares a remote objection.  The destination name should match the destination name on the @FlexRemote annotation.  
&lt;/p&gt;

&lt;pre class=&quot;wikiPreformatted&quot;&gt;&amp;lt;mx:Button id=&quot;button&quot; label=&quot;Click Me!&quot; click=&quot;remoteFoo.ping()&quot; /&amp;gt;&lt;/pre&gt;


&lt;p class=&quot;wikiPara&quot;&gt;
This creates a button, that when pressed calls the remote method.  Dealing with results and errors requires a little more code than this, but it works the same as any other Flex remote object.
&lt;/p&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
One of the nice things about Flex remoting is how simple it is to pass complex data structures around. For example, suppose you are writing a Flex client to work with the hotel data in the Seam booking application.  If your Seam components had the following:
&lt;/p&gt;

&lt;pre class=&quot;wikiPreformatted&quot;&gt;    &amp;#x000A;public List&amp;lt;Hotel&amp;gt; queryAllHotels() {&amp;#x000A;   return entityManager.createQuery(&quot;select h from Hotel h&quot;).getResultList();&amp;#x000A;}&lt;/pre&gt;


&lt;p class=&quot;wikiPara&quot;&gt;
Then the entire data set could be loaded into the table quite easily.  
&lt;/p&gt;

&lt;pre class=&quot;wikiPreformatted&quot;&gt;&amp;#x000A;&amp;lt;mx:RemoteObject id=&quot;remoteFoo&quot; destination=&quot;foo&quot; fault=&quot;fault(event)&quot;&amp;gt;&amp;#x000A;    &amp;lt;mx:method name=&quot;queryHotels&quot;&amp;#x000A;               result=&quot;hotelTable.dataProvider=ResultEvent(event).result&quot; /&amp;gt;&amp;#x000A;&amp;lt;/mx:RemoteObject&amp;gt;&amp;#x000A;&amp;#x000A;&amp;lt;mx:DataGrid id=&quot;hotelTable&quot; /&amp;gt;&amp;#x000A;&amp;lt;mx:Button label=&quot;Query Hotels&quot; click=&quot;remoteFoo.queryHotels()&quot; /&amp;gt;&lt;/pre&gt;


&lt;p class=&quot;wikiPara&quot;&gt;
Note here that the remoting is smart enough to figure out the column names and values to display based on the Java objects returned, with no extra coding.  It may not be production ready, but it makes for a great demo.  
&lt;/p&gt;

&lt;p class=&quot;wikiPara&quot;&gt;
So, if you want to use Flex and Seam together, how can you give this a try?  The Flex module is under development in the Seam&lt;u&gt;2&lt;/u&gt;2 branch.  At this point we only support the basic remoting shown here and don't support conversation or business process scoped components, since the correct mapping of conversations to a rich client is not entirely obvious.  If you can live with that, or if you'd like to help contribute to the future development of the Flex module, please jump in on the &lt;a href=&quot;http://seamframework.org/Community/SeamUsers&quot; target=&quot;&quot; class=&quot;regularLink&quot;&gt;forums&lt;/a&gt; and provide some feedback.  
&lt;/p&gt;


&lt;/div&gt;
    </content>
  </entry>
</feed>
